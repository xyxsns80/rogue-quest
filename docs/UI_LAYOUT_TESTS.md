# 主界面布局测试用例

## 测试环境
- **屏幕尺寸**: 390×844 (iPhone 14)
- **安全区域**: 顶部50px，底部80px
- **可用高度**: 714px

## 布局规范

### 区域分配
| 区域 | 高度 | 说明 |
|------|------|------|
| 顶部信息栏 | 70px | 用户信息、资源 |
| 游戏标题 | 100px | Logo + 名称 |
| 开始冒险按钮 | 90px | 核心入口 |
| 养成入口 | 60px | 3个按钮 |
| 功能入口 | 60px | 3个按钮 |
| 放置收益 | 90px | 收益显示 + 按钮 |
| 底部导航 | 50px | 3个导航 |

### 间距规范
- 区域间距: 15px
- 安全边距: 顶部50px，底部80px

## 视觉检查测试

### TC001 - 顶部信息栏不重叠
**步骤**: 
1. 打开主界面
2. 检查用户名、等级、金币、钻石显示
3. 检查经验条

**预期结果**:
- [ ] 用户名完整显示
- [ ] 等级完整显示
- [ ] 金币数字完整显示
- [ ] 钻石数字完整显示
- [ ] 经验条不超出边界

### TC002 - 游戏标题不重叠
**步骤**: 
1. 检查Logo和游戏名称

**预期结果**:
- [ ] 🏆 图标完整显示
- [ ] "肉鸽征途"文字完整显示
- [ ] 与顶部信息栏有间距

### TC003 - 开始冒险按钮不重叠
**步骤**: 
1. 检查开始冒险按钮

**预期结果**:
- [ ] 按钮背景完整显示
- [ ] 按钮文字完整显示
- [ ] 副标题完整显示
- [ ] 与标题有间距
- [ ] 与下方按钮有间距

### TC004 - 养成入口不重叠
**步骤**: 
1. 检查英雄、天赋、装备3个按钮

**预期结果**:
- [ ] 3个按钮水平均匀分布
- [ ] 按钮之间有间距
- [ ] 图标完整显示
- [ ] 文字完整显示
- [ ] 与上下区域有间距

### TC005 - 功能入口不重叠
**步骤**: 
1. 检查任务、商店、图鉴3个按钮

**预期结果**:
- [ ] 3个按钮水平均匀分布
- [ ] 按钮之间有间距
- [ ] 图标完整显示
- [ ] 文字完整显示
- [ ] 与上下区域有间距

### TC006 - 放置收益不重叠
**步骤**: 
1. 检查挂机收益区域
2. 检查领取、加速按钮

**预期结果**:
- [ ] 收益率文字完整显示
- [ ] 累计数字完整显示
- [ ] 领取按钮完整显示
- [ ] 加速按钮完整显示
- [ ] 按钮之间有间距
- [ ] 与功能入口有间距
- [ ] 与底部导航有间距

### TC007 - 底部导航不重叠
**步骤**: 
1. 检查设置、主页、统计3个导航

**预期结果**:
- [ ] 3个导航水平均匀分布
- [ ] 图标完整显示
- [ ] 文字完整显示
- [ ] 与放置收益有间距
- [ ] 不超出底部安全区域

## 不同屏幕尺寸测试

### TC008 - 小屏适配 (iPhone SE, 375×667)
**预期结果**:
- [ ] 所有元素完整显示
- [ ] 无重叠
- [ ] 可滚动（如果需要）

### TC009 - 大屏适配 (iPhone 14 Pro Max, 430×932)
**预期结果**:
- [ ] 所有元素完整显示
- [ ] 间距合理
- [ ] 无重叠

### TC010 - 刘海屏适配 (iPhone 14 Pro)
**预期结果**:
- [ ] 顶部避开刘海区域
- [ ] 底部避开手势条
- [ ] 无遮挡

## 交互测试

### TC011 - 按钮点击响应
**预期结果**:
- [ ] 所有按钮可点击
- [ ] 点击有视觉反馈
- [ ] 无误触

### TC012 - 触摸区域大小
**预期结果**:
- [ ] 所有可点击元素 ≥ 44×44px
- [ ] 按钮易于点击

## 自动化测试代码示例

```typescript
// 布局测试辅助函数
function checkOverlap(rect1: {x: number, y: number, w: number, h: number}, 
                       rect2: {x: number, y: number, w: number, h: number}): boolean {
  return !(rect1.x + rect1.w < rect2.x || 
           rect2.x + rect2.w < rect1.x || 
           rect1.y + rect1.h < rect2.y || 
           rect2.y + rect2.h < rect1.y);
}

// 测试所有区域不重叠
function testNoOverlaps() {
  const regions = [
    { name: 'topBar', y: 50, h: 70 },
    { name: 'title', y: 135, h: 100 },
    { name: 'adventure', y: 250, h: 90 },
    { name: 'cultivation', y: 355, h: 60 },
    { name: 'function', y: 430, h: 60 },
    { name: 'idle', y: 505, h: 90 },
    { name: 'nav', y: 610, h: 50 }
  ];
  
  for (let i = 0; i < regions.length - 1; i++) {
    const r1 = regions[i];
    const r2 = regions[i + 1];
    const gap = r2.y - (r1.y + r1.h / 2) - r2.h / 2;
    
    console.log(`${r1.name} -> ${r2.name}: gap = ${gap}px`);
    
    if (gap < 10) {
      console.error(`❌ ${r1.name} 和 ${r2.name} 间距过小: ${gap}px`);
    } else {
      console.log(`✅ ${r1.name} 和 ${r2.name} 间距正常: ${gap}px`);
    }
  }
}
```

## 测试清单

**开发完成后必须检查：**
- [ ] 本地运行 `npm run dev` 测试
- [ ] 构建后测试 `npm run build && npm run preview`
- [ ] 多种屏幕尺寸测试
- [ ] 移动端真机测试
- [ ] 所有按钮点击测试
- [ ] 视觉检查无重叠

---

**文档版本**: v1.0
**更新日期**: 2026-02-15
