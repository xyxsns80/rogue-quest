# Rogue Quest 设计文档

## 游戏定位
- **类型**：回合制战斗 + 肉鸽(Roguelike) + 生物收集
- **目标平台**：微信小游戏
- **参考游戏**：《纸上谈亲》(肉鸽+牌组构建+文字模拟)

---

## 核心设计借鉴

### 1. 标签系统 → 星级/羁绊可视化

**纸上谈亲做法**：
- 角色属性用"标签"表示，有稀有度（普通/稀有/史诗/传说）
- 开局刷标签本身就有乐趣

**肉鸽征途应用**：
```
当前实现：
- 生物星级 1-3星 ✅
- 羁绊等级 2/3/4/5/7 ✅

增强方案：
- 生物添加稀有度显示（普通/稀有/史诗/传说）
- 羁绊效果用图标+文字显示
- 战斗开始时显示羁绊激活动画
```

### 2. 隐藏/揭示机制 → 敌人信息逐步揭示

**纸上谈亲做法**：
- 玩家可隐藏不利标签
- 相亲对象也会隐藏信息
- 随相处逐渐揭示，带来惊喜/惊吓

**肉鸽征途应用**：
```
新功能：敌人信息揭示系统
- 战斗开始：只显示敌人数量和总战力
- 第一回合后：揭示敌人种族
- 第二回合后：揭示敌人强化效果
- 击败敌人：揭示掉落奖励

实现方式：
- 在 BattleScene 添加 revealState 状态
- updateBattleUI() 根据 revealState 显示不同信息
```

### 3. 肉鸽继承循环 → 章节间强化继承

**纸上谈亲做法**：
- 结婚后后代继承双方标签
- 重新开始，用更好标签继续
- 越玩越强

**肉鸽征途应用**：
```
当前实现：
- 章节完成清空生物 ❌ (太割裂)

改进方案：
- 章节完成保留 1-2 个最强生物
- 继承部分强化效果到下一章
- 永久升级系统（跨存档）

示例：
- 第一章完成：保留1个3星生物
- 第二章开始：继承上一章10%属性加成
- 全部章节完成：解锁永久天赋点
```

### 4. 幽默文本 → 战斗日志趣味化

**纸上谈亲做法**：
- 离谱的相亲要求
- 荒诞随机事件（相亲对象突然去世）
- 地狱笑话

**肉鸽征途应用**：
```
当前实现：
- "⚔️ 战斗开始！队伍: 3人"
- "🔫 英雄 攻击 敌人1 造成 45 伤害"

改进方案：
- 添加趣味战斗文本
- 暴击时： "💥 暴击！敌人1 被打懵了！"
- 闪避时： "💨 敌人1 挥空了！"
- 击杀时： "☠️ 敌人1 退场了！"
- 羁绊激活： "🔥 城堡羁绊！骑士精神觉醒！"

文本库示例：
const BATTLE_TEXTS = {
  crit: ["暴击！狠狠地打了！", "这一击让敌人怀疑人生！"],
  kill: ["敌人倒下了！", "再见，不送！", "下一辈子小心点！"],
  synergy: ["羁绊之力觉醒！", "种族之力涌动！", "先祖的祝福！"]
}
```

### 5. 轻量级设计 → 快节奏战斗

**纸上谈亲做法**：
- 文本简短，不是大段阅读
- 一局时间短
- 碎片化友好

**肉鸽征途应用**：
```
当前问题：
- 战斗动画可能过长

改进方案：
- 添加"快速战斗"按钮
- 跳过动画直接结算
- 一关控制在30秒内

实现：
- 添加 speedMultiplier (1x/2x/4x)
- 战斗日志可折叠
- 自动战斗选项
```

---

## 新增功能计划

### Phase 1: 信息揭示系统
- [ ] 敌人信息分阶段揭示
- [ ] 羁绊激活动画
- [ ] 战斗趣味文本

### Phase 2: 继承系统
- [ ] 章节完成保留1个生物
- [ ] 章节间属性继承
- [ ] 永久升级系统

### Phase 3: 快节奏优化
- [ ] 快速战斗按钮
- [ ] 战斗速度调节
- [ ] 自动战斗

---

## 设计原则

1. **简单机制，深度体验**：像纸上谈亲一样，规则简单但变化多
2. **正反馈循环**：每次选择都能感受到变强
3. **幽默感**：战斗文本要有梗
4. **碎片化友好**：一局3-5分钟

---

## 对比总结

| 维度 | 纸上谈亲 | 肉鸽征途现状 | 改进方向 |
|------|---------|-------------|---------|
| 核心循环 | 标签→相亲→继承 | 生物→战斗→章节 | 添加继承机制 |
| 信息设计 | 隐藏揭示 | 全部显示 | 分阶段揭示 |
| 文本风格 | 幽默抽象 | 功能性 | 趣味化 |
| 节奏 | 快速轻量 | 中等 | 加速选项 |
| 传播性 | 高（群分享） | 中 | 添加分享功能 |
